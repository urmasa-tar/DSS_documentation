<!-- manual/templates/manual/knowledge_base.html -->
{% extends 'manual/base.html' %}

{% block title %}Справочная информация - ИЭТР WebShield FilterLib{% endblock %}

{% block extra_css %}
<style>
    .section-anchor {
        scroll-margin-top: 80px;
    }
    
    .code-block {
        background-color: #f8f9fa;
        border-left: 4px solid #0d6efd;
        padding: 1rem;
        border-radius: 0 5px 5px 0;
        font-family: 'Courier New', monospace;
        margin: 1rem 0;
    }
    
    .architecture-diagram {
        max-width: 100%;
        height: auto;
        border: 1px solid #dee2e6;
        border-radius: 5px;
        padding: 1rem;
        background: white;
    }
    
    .feature-badge {
        font-size: 0.9rem;
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'index' %}">Главная</a></li>
                <li class="breadcrumb-item active">Справочная информация</li>
            </ol>
        </nav>
        
        <h1 class="display-5 mb-4">
            <i class="bi bi-book text-warning"></i>
            Справочная информация
        </h1>
        
        <div class="alert alert-info">
            <i class="bi bi-info-circle"></i>
            Полное техническое руководство по библиотеке фильтрации уязвимостей WebShield FilterLib
        </div>
    </div>
</div>

<div class="row">
    <!-- Левое меню -->
    <div class="col-lg-3">
        <div class="sticky-top" style="top: 90px;">
            <div class="card shadow mb-4">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0"><i class="bi bi-list"></i> Содержание</h5>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#overview" class="list-group-item list-group-item-action">
                        <i class="bi bi-house-door"></i> Обзор библиотеки
                    </a>
                    <a href="#architecture" class="list-group-item list-group-item-action">
                        <i class="bi bi-diagram-3"></i> Архитектура
                    </a>
                    <a href="#modules" class="list-group-item list-group-item-action">
                        <i class="bi bi-puzzle"></i> Модули
                    </a>
                    <a href="#installation" class="list-group-item list-group-item-action">
                        <i class="bi bi-download"></i> Установка
                    </a>
                    <a href="#configuration" class="list-group-item list-group-item-action">
                        <i class="bi bi-gear"></i> Конфигурация
                    </a>
                    <a href="#api" class="list-group-item list-group-item-action">
                        <i class="bi bi-code-slash"></i> API
                    </a>
                    <a href="#best-practices" class="list-group-item list-group-item-action">
                        <i class="bi bi-star"></i> Лучшие практики
                    </a>
                    <a href="#security" class="list-group-item list-group-item-action">
                        <i class="bi bi-shield-check"></i> Безопасность
                    </a>
                </div>
            </div>
            
            <div class="card shadow">
                <div class="card-body">
                    <h6>Быстрый доступ</h6>
                    <div class="d-grid gap-2">
                        <a href="{% url 'faults_list' %}" class="btn btn-outline-danger btn-sm">
                            <i class="bi bi-bug"></i> Диагностика
                        </a>
                        <a href="{% url 'maintenance' %}" class="btn btn-outline-success btn-sm">
                            <i class="bi bi-tools"></i> Регламентные работы
                        </a>
                        <a href="#api" class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-terminal"></i> Примеры кода
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Основной контент -->
    <div class="col-lg-9">
        <!-- Раздел: Обзор библиотеки -->
        <div id="overview" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">
                    <i class="bi bi-house-door"></i>
                    Обзор библиотеки WebShield FilterLib
                </h4>
            </div>
            <div class="card-body">
                <h5>Что такое WebShield FilterLib?</h5>
                <p>
                    <strong>WebShield FilterLib</strong> — это высокопроизводительная библиотека на языке Python, 
                    предназначенная для фильтрации и нейтрализации веб-уязвимостей в реальном времени. 
                    Библиотека специализируется на обнаружении и предотвращении атак типа:
                </p>
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card h-100 border-danger">
                            <div class="card-body">
                                <h6><i class="bi bi-exclamation-triangle text-danger"></i> XSS (Cross-Site Scripting)</h6>
                                <ul>
                                    <li>Reflected XSS</li>
                                    <li>Stored XSS</li>
                                    <li>DOM-based XSS</li>
                                    <li>Blind XSS</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100 border-warning">
                            <div class="card-body">
                                <h6><i class="bi bi-database text-warning"></i> SQL Injection</h6>
                                <ul>
                                    <li>Classic SQLi</li>
                                    <li>Blind SQLi</li>
                                    <li>Time-based SQLi</li>
                                    <li>Union-based SQLi</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h5>Основные возможности</h5>
                <div class="mb-4">
                    <span class="badge bg-success feature-badge">Многоуровневая фильтрация</span>
                    <span class="badge bg-info feature-badge">Адаптивный анализ</span>
                    <span class="badge bg-warning feature-badge">Минимальная задержка</span>
                    <span class="badge bg-primary feature-badge">Легкая интеграция</span>
                    <span class="badge bg-danger feature-badge">Поддержка Unicode</span>
                    <span class="badge bg-secondary feature-badge">Расширяемая архитектура</span>
                </div>
                
                <h5>Область применения</h5>
                <ul>
                    <li>Веб-приложения на Django, Flask, FastAPI</li>
                    <li>RESTful API и микросервисы</li>
                    <li>Прокси-серверы и балансировщики нагрузки</li>
                    <li>Системы контроля и мониторинга трафика</li>
                </ul>
            </div>
        </div>
        
        <!-- Раздел: Архитектура -->
        <div id="architecture" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">
                    <i class="bi bi-diagram-3"></i>
                    Архитектура библиотеки
                </h4>
            </div>
            <div class="card-body">
                <h5>Общая схема работы</h5>
                <div class="text-center mb-4">
                    <div class="architecture-diagram">
                        <div class="text-center mb-3">
                            <div class="d-inline-block p-3 border rounded bg-light">
                                <strong>Входящий HTTP-запрос</strong>
                            </div>
                            <div class="mt-2">
                                <i class="bi bi-arrow-down fs-4"></i>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <div class="p-3 border rounded bg-primary text-white">
                                        <strong>Модуль нормализации</strong>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-2">
                                <i class="bi bi-arrow-down fs-4"></i>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-4 mb-3">
                                    <div class="p-3 border rounded bg-danger text-white">
                                        <strong>XSS Filter</strong>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="p-3 border rounded bg-warning text-white">
                                        <strong>SQLi Filter</strong>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="p-3 border rounded bg-info text-white">
                                        <strong>Pattern Analyzer</strong>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-2">
                                <i class="bi bi-arrow-down fs-4"></i>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <div class="p-3 border rounded bg-success text-white">
                                        <strong>Решение & Ответ</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h5>Ключевые компоненты</h5>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Компонент</th>
                                <th>Назначение</th>
                                <th>Технологии</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Request Parser</strong></td>
                                <td>Разбор HTTP-запросов, извлечение параметров</td>
                                <td>Python HTTP libraries, Regex</td>
                            </tr>
                            <tr>
                                <td><strong>Normalization Engine</strong></td>
                                <td>Приведение данных к стандартному виду</td>
                                <td>Unicode нормализация, декодирование URL</td>
                            </tr>
                            <tr>
                                <td><strong>XSS Detection Module</strong></td>
                                <td>Обнаружение скриптовых инъекций</td>
                                <td>DOM-анализ, Pattern matching</td>
                            </tr>
                            <tr>
                                <td><strong>SQLi Detection Module</strong></td>
                                <td>Выявление SQL-инъекций</td>
                                <td>AST parsing, Token analysis</td>
                            </tr>
                            <tr>
                                <td><strong>Decision Engine</strong></td>
                                <td>Принятие решения на основе анализа</td>
                                <td>Rule-based system, ML scoring</td>
                            </tr>
                            <tr>
                                <td><strong>Logging & Reporting</strong></td>
                                <td>Ведение журналов и отчетность</td>
                                <td>Structured logging, JSON форматы</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Раздел: Модули -->
        <div id="modules" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-warning text-dark">
                <h4 class="mb-0">
                    <i class="bi bi-puzzle"></i>
                    Модули и компоненты
                </h4>
            </div>
            <div class="card-body">
                <div class="accordion" id="modulesAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#module1">
                                Core Module (Ядро)
                            </button>
                        </h2>
                        <div id="module1" class="accordion-collapse collapse show" data-bs-parent="#modulesAccordion">
                            <div class="accordion-body">
                                <p>Базовый модуль, обеспечивающий работу всей системы:</p>
                                <ul>
                                    <li><strong>WebShieldCore</strong> - основной класс инициализации</li>
                                    <li><strong>ConfigManager</strong> - управление конфигурацией</li>
                                    <li><strong>RequestProcessor</strong> - обработчик входящих запросов</li>
                                </ul>
                                <div class="code-block">
from webshield.core import WebShieldCore<br>
<br>
# Инициализация ядра<br>
core = WebShieldCore(config_path='config.yaml')<br>
core.initialize()
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#module2">
                                XSS Filter Module
                            </button>
                        </h2>
                        <div id="module2" class="accordion-collapse collapse" data-bs-parent="#modulesAccordion">
                            <div class="accordion-body">
                                <p>Модуль для обнаружения и нейтрализации XSS-атак:</p>
                                <ul>
                                    <li><strong>XSSDetector</strong> - детектор скриптовых инъекций</li>
                                    <li><strong>DOMSanitizer</strong> - санитайзер HTML/JavaScript</li>
                                    <li><strong>EventHandlerAnalyzer</strong> - анализ обработчиков событий</li>
                                </ul>
                                <div class="code-block">
from webshield.modules.xss import XSSFilter<br>
<br>
xss_filter = XSSFilter(sensitivity='high')<br>
is_safe = xss_filter.scan(user_input)<br>
if not is_safe:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sanitized = xss_filter.sanitize(user_input)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#module3">
                                SQL Injection Module
                            </button>
                        </h2>
                        <div id="module3" class="accordion-collapse collapse" data-bs-parent="#modulesAccordion">
                            <div class="accordion-body">
                                <p>Модуль защиты от SQL-инъекций:</p>
                                <ul>
                                    <li><strong>SQLiDetector</strong> - детектор SQL-инъекций</li>
                                    <li><strong>QueryNormalizer</strong> - нормализация SQL-запросов</li>
                                    <li><strong>PatternMatcher</strong> - сопоставление с сигнатурами</li>
                                </ul>
                                <div class="code-block">
from webshield.modules.sqli import SQLiFilter<br>
<br>
sqli_filter = SQLiFilter(database_type='postgresql')<br>
is_malicious = sqli_filter.detect(query_string)<br>
if is_malicious:<br>
&nbsp;&nbsp;&nbsp;&nbsp;safe_query = sqli_filter.rewrite(query_string)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Раздел: Установка -->
        <div id="installation" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0">
                    <i class="bi bi-download"></i>
                    Установка и настройка
                </h4>
            </div>
            <div class="card-body">
                <h5>Требования</h5>
                <ul>
                    <li>Python 3.8+</li>
                    <li>Django 3.2+ или Flask 2.0+ (опционально)</li>
                    <li>1 ГБ свободной памяти</li>
                    <li>Поддержка UTF-8</li>
                </ul>
                
                <h5>Установка через pip</h5>
                <div class="code-block">
# Установка последней версии<br>
pip install webshield-filterlib<br>
<br>
# Установка конкретной версии<br>
pip install webshield-filterlib==2.1.0<br>
<br>
# Установка с дополнительными зависимостями<br>
pip install webshield-filterlib[full]
                </div>
                
                <h5>Установка из исходников</h5>
                <div class="code-block">
# Клонирование репозитория<br>
git clone https://github.com/example/webshield-filterlib.git<br>
cd webshield-filterlib<br>
<br>
# Установка в режиме разработки<br>
pip install -e .<br>
<br>
# Установка зависимостей для разработки<br>
pip install -r requirements-dev.txt
                </div>
                
                <h5>Базовая конфигурация</h5>
                <div class="code-block">
# config.yaml<br>
webshield:<br>
&nbsp;&nbsp;settings:<br>
&nbsp;&nbsp;&nbsp;&nbsp;mode: "protection"  # protection | detection | learning<br>
&nbsp;&nbsp;&nbsp;&nbsp;sensitivity: "medium"  # low | medium | high<br>
&nbsp;&nbsp;&nbsp;&nbsp;log_level: "info"<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;modules:<br>
&nbsp;&nbsp;&nbsp;&nbsp;xss:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block_script_tags: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sanitize_html: true<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sqli:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;detect_union: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;detect_blind: true
                </div>
            </div>
        </div>
        
        <!-- Раздел: API -->
        <div id="api" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">
                    <i class="bi bi-code-slash"></i>
                    API документация
                </h4>
            </div>
            <div class="card-body">
                <h5>Основные методы</h5>
                
                <div class="mb-4">
                    <h6>1. Инициализация и конфигурация</h6>
                    <div class="code-block">
from webshield import WebShield<br>
<br>
# Создание экземпляра<br>
shield = WebShield(<br>
&nbsp;&nbsp;config_file='config.yaml',<br>
&nbsp;&nbsp;log_file='webshield.log'<br>
)<br>
<br>
# Динамическая конфигурация<br>
shield.configure({<br>
&nbsp;&nbsp;'sensitivity': 'high',<br>
&nbsp;&nbsp;'block_on_detect': True,<br>
&nbsp;&nbsp;'learning_mode': False<br>
})
                    </div>
                </div>
                
                <div class="mb-4">
                    <h6>2. Проверка входных данных</h6>
                    <div class="code-block">
# Проверка строки на уязвимости<br>
result = shield.scan_string(<br>
&nbsp;&nbsp;user_input="&lt;script&gt;alert('xss')&lt;/script&gt;",<br>
&nbsp;&nbsp;context="html_body"<br>
)<br>
<br>
if result.is_malicious:<br>
&nbsp;&nbsp;print(f"Обнаружена угроза: {result.threat_type}")<br>
&nbsp;&nbsp;print(f"Уровень опасности: {result.severity}")<br>
&nbsp;&nbsp;print(f"Безопасная версия: {result.sanitized_value}")
                    </div>
                </div>
                
                <div class="mb-4">
                    <h6>3. Интеграция с Django Middleware</h6>
                    <div class="code-block">
# settings.py Django<br>
MIDDLEWARE = [<br>
&nbsp;&nbsp;...<br>
&nbsp;&nbsp;'webshield.django.WebShieldMiddleware',<br>
&nbsp;&nbsp;...<br>
]<br>
<br>
WEBSHIELD_CONFIG = {<br>
&nbsp;&nbsp;'REJECT_ON_DETECT': True,<br>
&nbsp;&nbsp;'LOG_DETAILS': True,<br>
&nbsp;&nbsp;'EXCLUDE_PATHS': ['/admin/', '/static/']<br>
}
                    </div>
                </div>
                
                <div class="mb-4">
                    <h6>4. Работа с HTTP-запросами</h6>
                    <div class="code-block">
from webshield.http import RequestAnalyzer<br>
<br>
analyzer = RequestAnalyzer()<br>
<br>
# Анализ GET-параметров<br>
get_params = {'q': "admin' OR '1'='1"}<br>
analysis = analyzer.analyze_get_params(get_params)<br>
<br>
if analysis.has_threats:<br>
&nbsp;&nbsp;for threat in analysis.threats:<br>
&nbsp;&nbsp;&nbsp;&nbsp;print(f"Параметр {threat.param}: {threat.description}")
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Раздел: Лучшие практики -->
        <div id="best-practices" class="card shadow mb-5 section-anchor">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">
                    <i class="bi bi-star"></i>
                    Лучшие практики
                </h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">✅ Рекомендуется</h6>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>Начинать с режима обнаружения (detection)</li>
                                    <li>Регулярно обновлять базы сигнатур</li>
                                    <li>Настроить детальное логирование</li>
                                    <li>Использовать каскадную фильтрацию</li>
                                    <li>Тестировать на эталонных наборах данных</li>
                                    <li>Интегрировать с SIEM системами</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">❌ Не рекомендуется</h6>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>Полностью отключать фильтры в production</li>
                                    <li>Использовать только blacklist подход</li>
                                    <li>Игнорировать ложные срабатывания</li>
                                    <li>Не обновлять библиотеку длительное время</li>
                                    <li>Хранить конфигурационные файлы в репозитории</li>
                                    <li>Использовать максимальную чувствительность без тестирования</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h5 class="mt-4">Оптимальная конфигурация для production</h5>
                <div class="code-block">
webshield:<br>
&nbsp;&nbsp;mode: "protection"<br>
&nbsp;&nbsp;sensitivity: "medium"<br>
&nbsp;&nbsp;auto_update: true<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;modules:<br>
&nbsp;&nbsp;&nbsp;&nbsp;xss:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sanitize_method: "remove"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_data_attributes: true<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sqli:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;detect_tautologies: true<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normalize_queries: true<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;logging:<br>
&nbsp;&nbsp;&nbsp;&nbsp;level: "warning"<br>
&nbsp;&nbsp;&nbsp;&nbsp;format: "json"<br>
&nbsp;&nbsp;&nbsp;&nbsp;rotate: "daily"
                </div>
            </div>
        </div>
        
        <!-- Раздел: Безопасность -->
        <div id="security" class="card shadow section-anchor">
            <div class="card-header bg-danger text-white">
                <h4 class="mb-0">
                    <i class="bi bi-shield-check"></i>
                    Безопасность и обновления
                </h4>
            </div>
            <div class="card-body">
                <h5>Цикл обновлений безопасности</h5>
                <div class="mb-4">
                    <div class="row text-center">
                        <div class="col-md-3 mb-3">
                            <div class="p-3 border rounded bg-light">
                                <h6 class="text-primary">Патчи</h6>
                                <p class="mb-0">Еженедельно</p>
                                <small class="text-muted">Критические уязвимости</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 border rounded bg-light">
                                <h6 class="text-success">Минорные версии</h6>
                                <p class="mb-0">Ежемесячно</p>
                                <small class="text-muted">Новые функции</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 border rounded bg-light">
                                <h6 class="text-warning">Мажорные версии</h6>
                                <p class="mb-0">Раз в квартал</p>
                                <small class="text-muted">Архитектурные изменения</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 border rounded bg-light">
                                <h6 class="text-info">Базы сигнатур</h6>
                                <p class="mb-0">Ежедневно</p>
                                <small class="text-muted">Новые векторы атак</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h5>Процесс отчетности об уязвимостях</h5>
                <ol>
                    <li>Обнаружение потенциальной уязвимости</li>
                    <li>Создание отчета через security@webshield.example.com</li>
                    <li>Верификация командой безопасности</li>
                    <li>Разработка и тестирование исправления</li>
                    <li>Выпуск патча безопасности</li>
                    <li>Публикация advisory</li>
                </ol>
                
                <h5>Поддерживаемые стандарты</h5>
                <div class="mb-3">
                    <span class="badge bg-primary me-2">OWASP Top 10</span>
                    <span class="badge bg-success me-2">CWE Compliance</span>
                    <span class="badge bg-info me-2">ISO 27001</span>
                    <span class="badge bg-warning me-2">GDPR Ready</span>
                </div>
                
                <div class="alert alert-warning">
                    <h6><i class="bi bi-exclamation-triangle"></i> Важное примечание</h6>
                    <p class="mb-0">
                        WebShield FilterLib является дополнительным слоем защиты и не заменяет 
                        соблюдение принципов безопасной разработки (Secure Coding Practices). 
                        Рекомендуется использовать библиотеку в комплексе с другими мерами безопасности.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Контактная информация -->
        <div class="card shadow mt-4">
            <div class="card-body text-center">
                <h5>Дополнительная информация</h5>
                <p class="mb-3">
                    Для получения технической поддержки, отчетов об ошибках или предложений по улучшению:
                </p>
                <div class="d-flex justify-content-center gap-3">
                    <a href="mailto:support@webshield.example.com" class="btn btn-outline-primary">
                        <i class="bi bi-envelope"></i> Поддержка
                    </a>
                    <a href="https://github.com/example/webshield-filterlib" class="btn btn-outline-dark">
                        <i class="bi bi-github"></i> GitHub
                    </a>
                    <a href="#" class="btn btn-outline-info">
                        <i class="bi bi-file-earmark-text"></i> Полная документация
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Плавная прокрутка к якорям
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Подсветка активного раздела при прокрутке
    window.addEventListener('scroll', function() {
        const sections = document.querySelectorAll('.section-anchor');
        const navLinks = document.querySelectorAll('.list-group-item');
        
        let currentSection = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= (sectionTop - 150)) {
                currentSection = '#' + section.id;
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === currentSection) {
                link.classList.add('active');
            }
        });
    });
</script>
{% endblock %}